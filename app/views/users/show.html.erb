<% content_for :title, "Showing user" %>

<div class="md:w-2/3 w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <h1 class="font-bold text-4xl">Showing user</h1>

  <% if @user.profile_pic.attached? %>
    <div class="mb-4">
      <img src="<%= url_for(@user.profile_pic) %>" alt="Profile Picture" class="w-32 h-32 rounded-full object-cover border" />
    </div>
  <% end %>

  <% if @user.bio_audio.attached? %>
    <div class="mb-4">
      <audio controls>
        <source src="<%= url_for(@user.bio_audio) %>" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
    </div>
  <% end %>

  <%= link_to "Generate Audio Bio for your Profile", generate_bio_audio_user_path(@user), class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-medium inline-block mb-4" %>

  <%= render @user %>

  <%= link_to "Generate AI Image for your Profile", generate_profile_pic_user_path(@user), class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-medium inline-block mb-4" %>

  <%= link_to "Edit this user", edit_user_path(@user), class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
  <%= link_to "Back to users", users_path, class: "w-full sm:w-auto text-center mt-2 sm:mt-0 sm:ml-2 rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
  <%= button_to "Destroy this user", @user, method: :delete, form_class: "sm:inline-block mt-2 sm:mt-0 sm:ml-2", class: "w-full rounded-md px-3.5 py-2.5 text-white bg-red-600 hover:bg-red-500 font-medium cursor-pointer", data: { turbo_confirm: "Are you sure?" } %>
  <% if user_signed_in? && current_user == @user %>
    <%= button_to "Sign out", destroy_user_session_path, method: :delete, form_class: "sm:inline-block mt-2 sm:mt-0 sm:ml-2", class: "w-full rounded-md px-3.5 py-2.5 text-white bg-blue-600 hover:bg-blue-500 font-medium cursor-pointer" %>
  <% end %>
</div>
